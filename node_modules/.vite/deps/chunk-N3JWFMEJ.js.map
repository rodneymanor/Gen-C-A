{
  "version": 3,
  "sources": ["../../@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/combine.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/adapter/element-adapter.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/get-element-from-point-without-honey-pot.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/honey-pot-data-attribute.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/is-honey-pot-element.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/make-honey-pot-fix.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/max-z-index.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/lifecycle-manager.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/once.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/is-firefox.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/is-safari.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/count-events-for-safari.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/is-from-another-window.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/is-leaving-window.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/detect-broken-drag.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/get-input.js", "../../raf-schd/dist/raf-schd.esm.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/dispatch-consumer-event.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/usage-ledger.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-drop-target.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/add-attribute.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-monitor.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-adapter.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/android.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/media-types/text-media-type.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/util/media-types/url-media-type.js", "../../@atlaskit/pragmatic-drag-and-drop/dist/esm/adapter/element-adapter-native-data-key.js"],
  "sourcesContent": ["/** Create a new combined function that will call all the provided functions */\nexport function combine() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return function cleanup() {\n    fns.forEach(function (fn) {\n      return fn();\n    });\n  };\n}", "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { bind } from 'bind-event-listener';\nimport { getElementFromPointWithoutHoneypot } from '../honey-pot-fix/get-element-from-point-without-honey-pot';\nimport { makeHoneyPotFix } from '../honey-pot-fix/make-honey-pot-fix';\nimport { makeAdapter } from '../make-adapter/make-adapter';\nimport { combine } from '../public-utils/combine';\nimport { once } from '../public-utils/once';\nimport { addAttribute } from '../util/add-attribute';\nimport { androidFallbackText, isAndroid } from '../util/android';\nimport { getInput } from '../util/get-input';\nimport { textMediaType } from '../util/media-types/text-media-type';\nimport { URLMediaType } from '../util/media-types/url-media-type';\nimport { elementAdapterNativeDataKey } from './element-adapter-native-data-key';\nvar draggableRegistry = new WeakMap();\nfunction addToRegistry(args) {\n  draggableRegistry.set(args.element, args);\n  return function cleanup() {\n    draggableRegistry.delete(args.element);\n  };\n}\nvar honeyPotFix = makeHoneyPotFix();\nvar adapter = makeAdapter({\n  typeKey: 'element',\n  defaultDropEffect: 'move',\n  mount: function mount(api) {\n    /**  Binding event listeners the `document` rather than `window` so that\n     * this adapter always gets preference over the text adapter.\n     * `document` is the first `EventTarget` under `window`\n     * https://twitter.com/alexandereardon/status/1604658588311465985\n     */\n    return combine(honeyPotFix.bindEvents(), bind(document, {\n      type: 'dragstart',\n      listener: function listener(event) {\n        var _entry$dragHandle, _entry$getInitialData, _entry$getInitialData2, _entry$dragHandle2, _entry$getInitialData3, _entry$getInitialData4;\n        if (!api.canStart(event)) {\n          return;\n        }\n\n        // If the \"dragstart\" event is cancelled, then a drag won't start\n        // There will be no further drag operation events (eg no \"dragend\" event)\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        // Technically `dataTransfer` can be `null` according to the types\n        // But that behaviour does not seem to appear in the spec.\n        // If there is not `dataTransfer`, we can assume something is wrong and not\n        // start a drag\n        if (!event.dataTransfer) {\n          // Including this code on \"test\" and \"development\" environments:\n          // - Browser tests commonly run against \"development\" builds\n          // - Unit tests commonly run in \"test\"\n          if (process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.warn(\"\\n              It appears as though you have are not testing DragEvents correctly.\\n\\n              - If you are unit testing, ensure you have polyfilled DragEvent.\\n              - If you are browser testing, ensure you are dispatching drag events correctly.\\n\\n              Please see our testing guides for more information:\\n              https://atlassian.design/components/pragmatic-drag-and-drop/core-package/testing\\n            \".replace(/ {2}/g, ''));\n          }\n          return;\n        }\n\n        // the closest parent that is a draggable element will be marked as\n        // the `event.target` for the event\n        var target = event.target;\n\n        // this source is only for elements\n        // Note: only HTMLElements can have the \"draggable\" attribute\n        if (!(target instanceof HTMLElement)) {\n          return;\n        }\n\n        // see if the thing being dragged is owned by us\n        var entry = draggableRegistry.get(target);\n\n        // no matching element found\n        // → dragging an element with `draggable=\"true\"` that is not controlled by us\n        if (!entry) {\n          return;\n        }\n\n        /**\n         * A text selection drag _can_ have the `draggable` element be\n         * the `event.target` if the user is dragging the text selection\n         * from the `draggable`.\n         *\n         * To know if the `draggable` is being dragged, we look at whether any\n         * `\"text/plain\"` data is being dragged. If it is, then a text selection\n         * drag is occurring.\n         *\n         * This behaviour has been validated on:\n         *\n         * - Chrome@128 on Android@14\n         * - Chrome@128 on iOS@17.6.1\n         * - Chrome@128 on Windows@11\n         * - Chrome@128 on MacOS@14.6.1\n         * - Firefox@129 on Windows@11 (not possible for user to select text in a draggable)\n         * - Firefox@129 on MacOS@14.6.1 (not possible for user to select text in a draggable)\n         *\n         * Note: Could usually just use: `event.dataTransfer.types.includes(textMediaType)`\n         * but unfortunately ProseMirror is always setting `\"\"` as the dragged text\n         *\n         * Note: Unfortunately editor is (heavily) leaning on the current functionality today\n         * and unwinding it will be a decent amount of effort. So for now, a text selection\n         * where the `event.target` is a `draggable` element will still trigger the\n         * element adapter.\n         *\n         * // Future state:\n         * if(event.dataTransfer.getData(textMediaType)) {\n         * \treturn;\n         * }\n         *\n         */\n\n        var input = getInput(event);\n        var feedback = {\n          element: entry.element,\n          dragHandle: (_entry$dragHandle = entry.dragHandle) !== null && _entry$dragHandle !== void 0 ? _entry$dragHandle : null,\n          input: input\n        };\n\n        // Check: does the draggable want to allow dragging?\n        if (entry.canDrag && !entry.canDrag(feedback)) {\n          // cancel drag operation if we cannot drag\n          event.preventDefault();\n          return;\n        }\n\n        // Check: is there a drag handle and is the user using it?\n        if (entry.dragHandle) {\n          // technically don't need this util, but just being\n          // consistent with how we look up what is under the users\n          // cursor.\n          var over = getElementFromPointWithoutHoneypot({\n            x: input.clientX,\n            y: input.clientY\n          });\n\n          // if we are not dragging from the drag handle (or something inside the drag handle)\n          // then we will cancel the active drag\n          if (!entry.dragHandle.contains(over)) {\n            event.preventDefault();\n            return;\n          }\n        }\n\n        /**\n         *  **Goal**\n         *  Pass information to other applications\n         *\n         * **Approach**\n         *  Put data into the native data store\n         *\n         *  **What about the native adapter?**\n         *  When the element adapter puts native data into the native data store\n         *  the native adapter is not triggered in the current window,\n         *  but a native adapter in an external window _can_ be triggered\n         *\n         *  **Why bake this into core?**\n         *  This functionality could be pulled out and exposed inside of\n         *  `onGenerateDragPreview`. But decided to make it a part of the\n         *  base API as it felt like a common enough use case and ended\n         *  up being a similar amount of code to include this function as\n         *  it was to expose the hook for it\n         */\n        var nativeData = (_entry$getInitialData = (_entry$getInitialData2 = entry.getInitialDataForExternal) === null || _entry$getInitialData2 === void 0 ? void 0 : _entry$getInitialData2.call(entry, feedback)) !== null && _entry$getInitialData !== void 0 ? _entry$getInitialData : null;\n        if (nativeData) {\n          for (var _i = 0, _Object$entries = Object.entries(nativeData); _i < _Object$entries.length; _i++) {\n            var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n              key = _Object$entries$_i[0],\n              data = _Object$entries$_i[1];\n            event.dataTransfer.setData(key, data !== null && data !== void 0 ? data : '');\n          }\n        }\n\n        /**\n         *  📱 For Android devices, a drag operation will not start unless\n         * \"text/plain\" or \"text/uri-list\" data exists in the native data store\n         * https://twitter.com/alexandereardon/status/1732189803754713424\n         *\n         * Tested on:\n         * Device: Google Pixel 5\n         * Android version: 14 (November 5, 2023)\n         * Chrome version: 120.0\n         */\n        if (isAndroid() && !event.dataTransfer.types.includes(textMediaType) && !event.dataTransfer.types.includes(URLMediaType)) {\n          event.dataTransfer.setData(textMediaType, androidFallbackText);\n        }\n\n        /**\n         * 1. Must set any media type for `iOS15` to work\n         * 2. We are also doing adding data so that the native adapter\n         * can know that the element adapter has handled this drag\n         *\n         * We used to wrap this `setData()` in a `try/catch` for Firefox,\n         * but it looks like that was not needed.\n         *\n         * Tested using: https://codesandbox.io/s/checking-firefox-throw-behaviour-on-dragstart-qt8h4f\n         *\n         * - ✅ Firefox@70.0 (Oct 2019) on macOS Sonoma\n         * - ✅ Firefox@70.0 (Oct 2019) on macOS Big Sur\n         * - ✅ Firefox@70.0 (Oct 2019) on Windows 10\n         *\n         * // just checking a few more combinations to be super safe\n         *\n         * - ✅ Chrome@78 (Oct 2019) on macOS Big Sur\n         * - ✅ Chrome@78 (Oct 2019) on Windows 10\n         * - ✅ Safari@14.1 on macOS Big Sur\n         */\n        event.dataTransfer.setData(elementAdapterNativeDataKey, '');\n        var payload = {\n          element: entry.element,\n          dragHandle: (_entry$dragHandle2 = entry.dragHandle) !== null && _entry$dragHandle2 !== void 0 ? _entry$dragHandle2 : null,\n          data: (_entry$getInitialData3 = (_entry$getInitialData4 = entry.getInitialData) === null || _entry$getInitialData4 === void 0 ? void 0 : _entry$getInitialData4.call(entry, feedback)) !== null && _entry$getInitialData3 !== void 0 ? _entry$getInitialData3 : {}\n        };\n        var dragType = {\n          type: 'element',\n          payload: payload,\n          startedFrom: 'internal'\n        };\n        api.start({\n          event: event,\n          dragType: dragType\n        });\n      }\n    }));\n  },\n  dispatchEventToSource: function dispatchEventToSource(_ref) {\n    var _draggableRegistry$ge, _draggableRegistry$ge2;\n    var eventName = _ref.eventName,\n      payload = _ref.payload;\n    // During a drag operation, a draggable can be:\n    // - remounted with different functions\n    // - removed completely\n    // So we need to get the latest entry from the registry in order\n    // to call the latest event functions\n\n    (_draggableRegistry$ge = draggableRegistry.get(payload.source.element)) === null || _draggableRegistry$ge === void 0 || (_draggableRegistry$ge2 = _draggableRegistry$ge[eventName]) === null || _draggableRegistry$ge2 === void 0 || _draggableRegistry$ge2.call(_draggableRegistry$ge,\n    // I cannot seem to get the types right here.\n    // TS doesn't seem to like that one event can need `nativeSetDragImage`\n    // @ts-expect-error\n    payload);\n  },\n  onPostDispatch: honeyPotFix.getOnPostDispatch()\n});\nexport var dropTargetForElements = adapter.dropTarget;\nexport var monitorForElements = adapter.monitor;\nexport function draggable(args) {\n  // Guardrail: warn if the drag handle is not contained in draggable element\n  if (process.env.NODE_ENV !== 'production') {\n    if (args.dragHandle && !args.element.contains(args.dragHandle)) {\n      // eslint-disable-next-line no-console\n      console.warn('Drag handle element must be contained in draggable element', {\n        element: args.element,\n        dragHandle: args.dragHandle\n      });\n    }\n  }\n  // Guardrail: warn if the draggable element is already registered\n  if (process.env.NODE_ENV !== 'production') {\n    var existing = draggableRegistry.get(args.element);\n    if (existing) {\n      // eslint-disable-next-line no-console\n      console.warn('You have already registered a `draggable` on the same element', {\n        existing: existing,\n        proposed: args\n      });\n    }\n  }\n  var cleanup = combine(\n  // making the draggable register the adapter rather than drop targets\n  // this is because you *must* have a draggable element to start a drag\n  // but you _might_ not have any drop targets immediately\n  // (You might create drop targets async)\n  adapter.registerUsage(), addToRegistry(args), addAttribute(args.element, {\n    attribute: 'draggable',\n    value: 'true'\n  }));\n\n  // Wrapping in `once` to prevent unexpected side effects if consumers call\n  // the clean up function multiple times.\n  return once(cleanup);\n}\n\n/** Common event payload for all events */\n\n/** A map containing payloads for all events */\n\n/** Common event payload for all drop target events */\n\n/** A map containing payloads for all events on drop targets */\n\n/** Arguments given to all feedback functions (eg `canDrag()`) on for a `draggable()` */\n\n/** Arguments given to all feedback functions (eg `canDrop()`) on a `dropTargetForElements()` */\n\n/** Arguments given to all monitor feedback functions (eg `canMonitor()`) for a `monitorForElements` */", "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { isHoneyPotElement } from './is-honey-pot-element';\nexport function getElementFromPointWithoutHoneypot(client) {\n  // eslint-disable-next-line no-restricted-syntax\n  var _document$elementsFro = document.elementsFromPoint(client.x, client.y),\n    _document$elementsFro2 = _slicedToArray(_document$elementsFro, 2),\n    top = _document$elementsFro2[0],\n    second = _document$elementsFro2[1];\n  if (!top) {\n    return null;\n  }\n  if (isHoneyPotElement(top)) {\n    return second !== null && second !== void 0 ? second : null;\n  }\n  return top;\n}", "// pulling this into a separate file so adapter(s) that don't\n// need the honey pot can pay as little as possible for it.\nexport var honeyPotDataAttribute = 'data-pdnd-honey-pot';", "import { honeyPotDataAttribute } from './honey-pot-data-attribute';\nexport function isHoneyPotElement(target) {\n  return target instanceof Element && target.hasAttribute(honeyPotDataAttribute);\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { bind, bindAll } from 'bind-event-listener';\nimport { maxZIndex } from '../util/max-z-index';\nimport { honeyPotDataAttribute } from './honey-pot-data-attribute';\nvar honeyPotSize = 2;\nvar halfHoneyPotSize = honeyPotSize / 2;\n\n/**\n * `clientX` and `clientY` can be in sub pixels (eg `2.332`)\n * However, browser hitbox testing is commonly do to the closest pixel.\n *\n * → https://issues.chromium.org/issues/40940531\n *\n * To be sure that the honey pot will be over the `client` position,\n * we `.floor()` `clientX` and`clientY` and then make it `2px` in size.\n **/\nfunction floorToClosestPixel(point) {\n  return {\n    x: Math.floor(point.x),\n    y: Math.floor(point.y)\n  };\n}\n\n/**\n * We want to make sure the honey pot sits around the users position.\n * This seemed to be the most resilient while testing.\n */\nfunction pullBackByHalfHoneyPotSize(point) {\n  return {\n    x: point.x - halfHoneyPotSize,\n    y: point.y - halfHoneyPotSize\n  };\n}\n\n/**\n * Prevent the honey pot from changing the window size.\n * This is super unlikely to occur, but just being safe.\n */\nfunction preventGoingBackwardsOffScreen(point) {\n  return {\n    x: Math.max(point.x, 0),\n    y: Math.max(point.y, 0)\n  };\n}\n\n/**\n * Prevent the honey pot from changing the window size.\n * This is super unlikely to occur, but just being safe.\n */\nfunction preventGoingForwardsOffScreen(point) {\n  return {\n    x: Math.min(point.x, window.innerWidth - honeyPotSize),\n    y: Math.min(point.y, window.innerHeight - honeyPotSize)\n  };\n}\n\n/**\n * Create a `2x2` `DOMRect` around the `client` position\n */\nfunction getHoneyPotRectFor(_ref) {\n  var client = _ref.client;\n  var point = preventGoingForwardsOffScreen(preventGoingBackwardsOffScreen(pullBackByHalfHoneyPotSize(floorToClosestPixel(client))));\n\n  // When debugging, it is helpful to\n  // make this element a bit bigger\n  return DOMRect.fromRect({\n    x: point.x,\n    y: point.y,\n    width: honeyPotSize,\n    height: honeyPotSize\n  });\n}\nfunction getRectStyles(_ref2) {\n  var clientRect = _ref2.clientRect;\n  return {\n    left: \"\".concat(clientRect.left, \"px\"),\n    top: \"\".concat(clientRect.top, \"px\"),\n    width: \"\".concat(clientRect.width, \"px\"),\n    height: \"\".concat(clientRect.height, \"px\")\n  };\n}\nfunction isWithin(_ref3) {\n  var client = _ref3.client,\n    clientRect = _ref3.clientRect;\n  return (\n    // is within horizontal bounds\n    client.x >= clientRect.x && client.x <= clientRect.x + clientRect.width &&\n    // is within vertical bounds\n    client.y >= clientRect.y && client.y <= clientRect.y + clientRect.height\n  );\n}\n/**\n * The honey pot fix is designed to get around a painful bug in all browsers.\n *\n * [Overview](https://www.youtube.com/watch?v=udE9qbFTeQg)\n *\n * **Background**\n *\n * When a drag starts, browsers incorrectly think that the users pointer is\n * still depressed where the drag started. Any element that goes under this position\n * will be entered into, causing `\"mouseenter\"` events and `\":hover\"` styles to be applied.\n *\n * _This is a violation of the spec_\n *\n * > \"From the moment that the user agent is to initiate the drag-and-drop operation,\n * > until the end \tof the drag-and-drop operation, device input events\n * > (e.g. mouse and keyboard events) must be suppressed.\"\n * >\n * > - https://html.spec.whatwg.org/multipage/dnd.html#drag-and-drop-processing-model\n *\n * _Some impacts_\n *\n * - `\":hover\"` styles being applied where they shouldn't (looks messy)\n * - components such as tooltips responding to `\"mouseenter\"` can show during a drag,\n *   and on an element the user isn't even over\n *\n * Bug: https://issues.chromium.org/issues/41129937\n *\n * **Honey pot fix**\n *\n * 1. Create an element where the browser thinks the depressed pointer is\n *    to absorb the incorrect pointer events\n * 2. Remove that element when it is no longer needed\n */\nfunction mountHoneyPot(_ref4) {\n  var initial = _ref4.initial;\n  var element = document.createElement('div');\n  element.setAttribute(honeyPotDataAttribute, 'true');\n\n  // can shift during the drag thanks to Firefox\n  var clientRect = getHoneyPotRectFor({\n    client: initial\n  });\n  Object.assign(element.style, _objectSpread(_objectSpread({\n    // Setting a background color explicitly to avoid any inherited styles.\n    // Looks like this could be `opacity: 0`, but worried that _might_\n    // cause the element to be ignored on some platforms.\n    // When debugging, set backgroundColor to something like \"red\".\n    backgroundColor: 'transparent',\n    position: 'fixed',\n    // Being explicit to avoid inheriting styles\n    padding: 0,\n    margin: 0,\n    boxSizing: 'border-box'\n  }, getRectStyles({\n    clientRect: clientRect\n  })), {}, {\n    // We want this element to absorb pointer events,\n    // it's kind of the whole point 😉\n    pointerEvents: 'auto',\n    // Want to make sure the honey pot is top of everything else.\n    // Don't need to worry about native drag previews, as they will\n    // have been rendered (and removed) before the honey pot is rendered\n    zIndex: maxZIndex\n  }));\n  document.body.appendChild(element);\n\n  /**\n   *  🦊 In firefox we can get `\"pointermove\"` events after the drag\n   * has started, which is a spec violation.\n   * The final `\"pointermove\"` will reveal where the \"depressed\" position\n   * is for our honey pot fix.\n   */\n  var unbindPointerMove = bind(window, {\n    type: 'pointermove',\n    listener: function listener(event) {\n      var client = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      clientRect = getHoneyPotRectFor({\n        client: client\n      });\n      Object.assign(element.style, getRectStyles({\n        clientRect: clientRect\n      }));\n    },\n    // using capture so we are less likely to be impacted by event stopping\n    options: {\n      capture: true\n    }\n  });\n  return function finish(_ref5) {\n    var current = _ref5.current;\n    // Don't need this any more\n    unbindPointerMove();\n\n    // If the user is hover the honey pot, we remove it\n    // so that the user can continue to interact with the page normally.\n    if (isWithin({\n      client: current,\n      clientRect: clientRect\n    })) {\n      element.remove();\n      return;\n    }\n    function cleanup() {\n      unbindPostDragEvents();\n      element.remove();\n    }\n    var unbindPostDragEvents = bindAll(window, [{\n      type: 'pointerdown',\n      listener: cleanup\n    }, {\n      type: 'pointermove',\n      listener: cleanup\n    }, {\n      type: 'focusin',\n      listener: cleanup\n    }, {\n      type: 'focusout',\n      listener: cleanup\n    },\n    // a 'pointerdown' should happen before 'dragstart', but just being super safe\n    {\n      type: 'dragstart',\n      listener: cleanup\n    },\n    // if the user has dragged something out of the window\n    // and then is dragging something back into the window\n    // the first events we will see are \"dragenter\" (and then \"dragover\").\n    // So if we see any of these we need to clear the post drag fix.\n    {\n      type: 'dragenter',\n      listener: cleanup\n    }, {\n      type: 'dragover',\n      listener: cleanup\n    }\n\n    // Not adding a \"wheel\" event listener, as \"wheel\" by itself does not\n    // resolve the bug.\n    ], {\n      // Using `capture` so less likely to be impacted by other code stopping events\n      capture: true\n    });\n  };\n}\nexport function makeHoneyPotFix() {\n  var latestPointerMove = null;\n  function bindEvents() {\n    // For sanity, only collecting this value from when events are first bound.\n    // This prevents the case where a super old \"pointermove\" could be used\n    // from a prior interaction.\n    latestPointerMove = null;\n    return bind(window, {\n      type: 'pointermove',\n      listener: function listener(event) {\n        latestPointerMove = {\n          x: event.clientX,\n          y: event.clientY\n        };\n      },\n      // listening for pointer move in capture phase\n      // so we are less likely to be impacted by events being stopped.\n      options: {\n        capture: true\n      }\n    });\n  }\n  function getOnPostDispatch() {\n    var finish = null;\n    return function onPostEvent(_ref6) {\n      var eventName = _ref6.eventName,\n        payload = _ref6.payload;\n      // We are adding the honey pot `onDragStart` so we don't\n      // impact the creation of the native drag preview.\n      if (eventName === 'onDragStart') {\n        var input = payload.location.initial.input;\n\n        // Sometimes there will be no latest \"pointermove\" (eg iOS).\n        // In which case, we use the start position of the drag.\n        var initial = latestPointerMove !== null && latestPointerMove !== void 0 ? latestPointerMove : {\n          x: input.clientX,\n          y: input.clientY\n        };\n\n        // Don't need to defensively call `finish()` as `onDrop` from\n        // one interaction is guaranteed to be called before `onDragStart`\n        // of the next.\n        finish = mountHoneyPot({\n          initial: initial\n        });\n      }\n      if (eventName === 'onDrop') {\n        var _finish;\n        var _input = payload.location.current.input;\n        (_finish = finish) === null || _finish === void 0 || _finish({\n          current: {\n            x: _input.clientX,\n            y: _input.clientY\n          }\n        });\n        finish = null;\n        // this interaction is finished, we want to use\n        // the latest \"pointermove\" for each interaction\n        latestPointerMove = null;\n      }\n    };\n  }\n  return {\n    bindEvents: bindEvents,\n    getOnPostDispatch: getOnPostDispatch\n  };\n}", "// Maximum possible z-index\n// https://stackoverflow.com/questions/491052/minimum-and-maximum-value-of-z-index\nexport var maxZIndex = 2147483647;", "import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { bindAll } from 'bind-event-listener';\nimport { getElementFromPointWithoutHoneypot } from '../honey-pot-fix/get-element-from-point-without-honey-pot';\nimport { isHoneyPotElement } from '../honey-pot-fix/is-honey-pot-element';\nimport { isLeavingWindow } from '../util/changing-window/is-leaving-window';\nimport { getBindingsForBrokenDrags } from '../util/detect-broken-drag';\nimport { getInput } from '../util/get-input';\nimport { makeDispatch } from './dispatch-consumer-event';\nvar globalState = {\n  isActive: false\n};\nfunction canStart() {\n  return !globalState.isActive;\n}\nfunction getNativeSetDragImage(event) {\n  if (event.dataTransfer) {\n    // need to use `.bind` as `setDragImage` is required\n    // to be run with `event.dataTransfer` as the \"this\" context\n    return event.dataTransfer.setDragImage.bind(event.dataTransfer);\n  }\n  return null;\n}\nfunction hasHierarchyChanged(_ref) {\n  var current = _ref.current,\n    next = _ref.next;\n  if (current.length !== next.length) {\n    return true;\n  }\n  // not checking stickiness, data or dropEffect,\n  // just whether the hierarchy has changed\n  for (var i = 0; i < current.length; i++) {\n    if (current[i].element !== next[i].element) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction start(_ref2) {\n  var event = _ref2.event,\n    dragType = _ref2.dragType,\n    getDropTargetsOver = _ref2.getDropTargetsOver,\n    dispatchEvent = _ref2.dispatchEvent;\n  if (!canStart()) {\n    return;\n  }\n  var initial = getStartLocation({\n    event: event,\n    dragType: dragType,\n    getDropTargetsOver: getDropTargetsOver\n  });\n  globalState.isActive = true;\n  var state = {\n    current: initial\n  };\n\n  // Setting initial drop effect for the drag\n  setDropEffectOnEvent({\n    event: event,\n    current: initial.dropTargets\n  });\n  var dispatch = makeDispatch({\n    source: dragType.payload,\n    dispatchEvent: dispatchEvent,\n    initial: initial\n  });\n  function updateState(next) {\n    // only looking at whether hierarchy has changed to determine whether something as 'changed'\n    var hasChanged = hasHierarchyChanged({\n      current: state.current.dropTargets,\n      next: next.dropTargets\n    });\n\n    // Always updating the state to include latest data, dropEffect and stickiness\n    // Only updating consumers if the hierarchy has changed in some way\n    // Consumers can get the latest data by using `onDrag`\n    state.current = next;\n    if (hasChanged) {\n      dispatch.dragUpdate({\n        current: state.current\n      });\n    }\n  }\n  function onUpdateEvent(event) {\n    var input = getInput(event);\n\n    // If we are over the honey pot, we need to get the element\n    // that the user would have been over if not for the honey pot\n    var target = isHoneyPotElement(event.target) ? getElementFromPointWithoutHoneypot({\n      x: input.clientX,\n      y: input.clientY\n    }) : event.target;\n    var nextDropTargets = getDropTargetsOver({\n      target: target,\n      input: input,\n      source: dragType.payload,\n      current: state.current.dropTargets\n    });\n    if (nextDropTargets.length) {\n      // 🩸 must call `event.preventDefault()` to allow a browser drop to occur\n      event.preventDefault();\n      setDropEffectOnEvent({\n        event: event,\n        current: nextDropTargets\n      });\n    }\n    updateState({\n      dropTargets: nextDropTargets,\n      input: input\n    });\n  }\n  function cancel() {\n    // The spec behaviour is that when a drag is cancelled, or when dropping on no drop targets,\n    // a \"dragleave\" event is fired on the active drop target before a \"dragend\" event.\n    // We are replicating that behaviour in `cancel` if there are any active drop targets to\n    // ensure consistent behaviour.\n    //\n    // Note: When cancelling, or dropping on no drop targets, a \"dragleave\" event\n    // will have already cleared the dropTargets to `[]` (as that particular \"dragleave\" has a `relatedTarget` of `null`)\n\n    if (state.current.dropTargets.length) {\n      updateState({\n        dropTargets: [],\n        input: state.current.input\n      });\n    }\n    dispatch.drop({\n      current: state.current,\n      updatedSourcePayload: null\n    });\n    finish();\n  }\n  function finish() {\n    globalState.isActive = false;\n    unbindEvents();\n  }\n  var unbindEvents = bindAll(window, [{\n    // 👋 Note: we are repurposing the `dragover` event as our `drag` event\n    // this is because firefox does not publish pointer coordinates during\n    // a `drag` event, but does for every other type of drag event\n    // `dragover` fires on all elements that are being dragged over\n    // Because we are binding to `window` - our `dragover` is effectively the same as a `drag`\n    // 🦊😤\n    type: 'dragover',\n    listener: function listener(event) {\n      // We need to regularly calculate the drop targets in order to allow:\n      //  - dynamic `canDrop()` checks\n      //  - rapid updating `getData()` calls to attach data in response to user input (eg for edge detection)\n      // Sadly we cannot schedule inspecting changes resulting from this event\n      // we need to be able to conditionally cancel the event with `event.preventDefault()`\n      // to enable the correct native drop experience.\n\n      // 1. check to see if anything has changed\n      onUpdateEvent(event);\n\n      // 2. let consumers know a move has occurred\n      // This will include the latest 'input' values\n      dispatch.drag({\n        current: state.current\n      });\n    }\n  }, {\n    type: 'dragenter',\n    listener: onUpdateEvent\n  }, {\n    type: 'dragleave',\n    listener: function listener(event) {\n      if (!isLeavingWindow({\n        dragLeave: event\n      })) {\n        return;\n      }\n\n      /**\n       * At this point we don't know if a drag is being cancelled,\n       * or if a drag is leaving the `window`.\n       *\n       * Both have:\n       *   1. \"dragleave\" (with `relatedTarget: null`)\n       *   2. \"dragend\" (a \"dragend\" can occur when outside the `window`)\n       *\n       * **Clearing drop targets**\n       *\n       * For either case we are clearing the the drop targets\n       *\n       * - cancelling: we clear drop targets in `\"dragend\"` anyway\n       * - leaving the `window`: we clear the drop targets (to clear stickiness)\n       *\n       * **Leaving the window and finishing the drag**\n       *\n       * _internal drags_\n       *\n       * - The drag continues when the user is outside the `window`\n       *   and can resume if the user drags back over the `window`,\n       *   or end when the user drops in an external `window`.\n       * - We will get a `\"dragend\"`, or we can listen for other\n       *   events to determine the drag is finished when the user re-enters the `window`).\n       *\n       * _external drags_\n       *\n       * - We conclude the drag operation.\n       * - We have no idea if the user will drag back over the `window`,\n       *   or if the drag ends elsewhere.\n       * - We will create a new drag if the user re-enters the `window`.\n       *\n       * **Not updating `input`**\n       *\n       * 🐛 Bug[Chrome] the final `\"dragleave\"` has default input values (eg `clientX == 0`)\n       * Workaround: intentionally not updating `input` in \"dragleave\"\n       * rather than the users current input values\n       * - [Conversation](https://twitter.com/alexandereardon/status/1642697633864241152)\n       * - [Bug](https://bugs.chromium.org/p/chromium/issues/detail?id=1429937)\n       **/\n\n      updateState({\n        input: state.current.input,\n        dropTargets: []\n      });\n      if (dragType.startedFrom === 'external') {\n        cancel();\n      }\n    }\n  }, {\n    // A \"drop\" can only happen if the browser allowed the drop\n    type: 'drop',\n    listener: function listener(event) {\n      // Capture the final input.\n      // We are capturing the final `input` for the\n      // most accurate honey pot experience\n      state.current = {\n        dropTargets: state.current.dropTargets,\n        input: getInput(event)\n      };\n\n      /** If there are no drop targets, then we will get\n       * a \"drop\" event if:\n       * - `preventUnhandled()` is being used\n       * - there is an unmanaged drop target (eg another library)\n       * In these cases, it's up to the consumer\n       * to handle the drop if it's not over one of our drop targets\n       * - `preventUnhandled()` will cancel the \"drop\"\n       * - unmanaged drop targets can handle the \"drop\" how they want to\n       * We won't call `event.preventDefault()` in this call path */\n\n      if (!state.current.dropTargets.length) {\n        cancel();\n        return;\n      }\n      event.preventDefault();\n\n      // applying the latest drop effect to the event\n      setDropEffectOnEvent({\n        event: event,\n        current: state.current.dropTargets\n      });\n      dispatch.drop({\n        current: state.current,\n        // When dropping something native, we need to extract the latest\n        // `.items` from the \"drop\" event as it is now accessible\n        updatedSourcePayload: dragType.type === 'external' ? dragType.getDropPayload(event) : null\n      });\n      finish();\n    }\n  }, {\n    // \"dragend\" fires when on the drag source (eg a draggable element)\n    // when the drag is finished.\n    // \"dragend\" will fire after \"drop\" (if there was a successful drop)\n    // \"dragend\" does not fire if the draggable source has been removed during the drag\n    // or for external drag sources (eg files)\n\n    // This \"dragend\" listener will not fire if there was a successful drop\n    // as we will have already removed the event listener\n\n    type: 'dragend',\n    listener: function listener(event) {\n      // In firefox, the position of the \"dragend\" event can\n      // be a bit different to the last \"dragover\" event.\n      // Updating the input so we can get the best possible\n      // information for the honey pot.\n      state.current = {\n        dropTargets: state.current.dropTargets,\n        input: getInput(event)\n      };\n      cancel();\n    }\n  }].concat(_toConsumableArray(getBindingsForBrokenDrags({\n    onDragEnd: cancel\n  }))),\n  // Once we have started a managed drag operation it is important that we see / own all drag events\n  // We got one adoption bug pop up where some code was stopping (`event.stopPropagation()`)\n  // all \"drop\" events in the bubble phase on the `document.body`.\n  // This meant that we never saw the \"drop\" event.\n  {\n    capture: true\n  });\n  dispatch.start({\n    nativeSetDragImage: getNativeSetDragImage(event)\n  });\n}\nfunction setDropEffectOnEvent(_ref3) {\n  var _current$;\n  var event = _ref3.event,\n    current = _ref3.current;\n  // setting the `dropEffect` to be the innerMost drop targets dropEffect\n  var innerMost = (_current$ = current[0]) === null || _current$ === void 0 ? void 0 : _current$.dropEffect;\n  if (innerMost != null && event.dataTransfer) {\n    event.dataTransfer.dropEffect = innerMost;\n  }\n}\nfunction getStartLocation(_ref4) {\n  var event = _ref4.event,\n    dragType = _ref4.dragType,\n    getDropTargetsOver = _ref4.getDropTargetsOver;\n  var input = getInput(event);\n\n  // When dragging from outside of the browser,\n  // the drag is not being sourced from any local drop targets\n  if (dragType.startedFrom === 'external') {\n    return {\n      input: input,\n      dropTargets: []\n    };\n  }\n  var dropTargets = getDropTargetsOver({\n    input: input,\n    source: dragType.payload,\n    target: event.target,\n    current: []\n  });\n  return {\n    input: input,\n    dropTargets: dropTargets\n  };\n}\nexport var lifecycle = {\n  canStart: canStart,\n  start: start\n};", "/** Provide a function that you only ever want to be called a single time */\nexport function once(fn) {\n  var cache = null;\n  return function wrapped() {\n    if (!cache) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var result = fn.apply(this, args);\n      cache = {\n        result: result\n      };\n    }\n    return cache.result;\n  };\n}", "import { once } from '../public-utils/once';\n\n// using `cache` as our `isFirefox()` result will not change in a browser\n\n/**\n * Returns `true` if a `Firefox` browser\n * */\nexport var isFirefox = once(function isFirefox() {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n  return navigator.userAgent.includes('Firefox');\n});", "import { once } from '../public-utils/once';\n\n// using `cache` as our `isSafari()` result will not change in a browser\n\n/**\n * Returns `true` if a `Safari` browser.\n * Returns `true` if the browser is running on iOS (they are all Safari).\n *\n * Use `isSafariOnIOS` if you want to check if something is Safari + iOS\n * */\nexport var isSafari = once(function isSafari() {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n  var _navigator = navigator,\n    userAgent = _navigator.userAgent;\n  return userAgent.includes('AppleWebKit') && !userAgent.includes('Chrome');\n});", "import { bindAll } from 'bind-event-listener';\nimport { isSafari } from '../is-safari';\n\n/* For \"dragenter\" events, the browser should set `relatedTarget` to the previous element.\n * For external drag operations, our first \"dragenter\" event should have a `event.relatedTarget` of `null`.\n *\n *  Unfortunately in Safari `event.relatedTarget` is *always* set to `null`\n *  Safari bug: https://bugs.webkit.org/show_bug.cgi?id=242627\n *  To work around this we count \"dragenter\" and \"dragleave\" events */\n\n// Using symbols for event properties so we don't clash with\n// anything on the `event` object\nvar symbols = {\n  isLeavingWindow: Symbol('leaving'),\n  isEnteringWindow: Symbol('entering')\n};\nexport function isEnteringWindowInSafari(_ref) {\n  var dragEnter = _ref.dragEnter;\n  if (!isSafari()) {\n    return false;\n  }\n  return dragEnter.hasOwnProperty(symbols.isEnteringWindow);\n}\nexport function isLeavingWindowInSafari(_ref2) {\n  var dragLeave = _ref2.dragLeave;\n  if (!isSafari()) {\n    return false;\n  }\n  return dragLeave.hasOwnProperty(symbols.isLeavingWindow);\n}\n(function fixSafari() {\n  // Don't do anything when server side rendering\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // rather than checking the userAgent for \"jsdom\" we can do this check\n  // so that the check will be removed completely in production code\n  if (process.env.NODE_ENV === 'test') {\n    return;\n  }\n  if (!isSafari()) {\n    return;\n  }\n  function getInitialState() {\n    return {\n      enterCount: 0,\n      isOverWindow: false\n    };\n  }\n  var state = getInitialState();\n  function resetState() {\n    state = getInitialState();\n  }\n\n  // These event listeners are bound _forever_ and _never_ removed\n  // We don't bother cleaning up these event listeners (for now)\n  // as this workaround is only for Safari\n\n  // This is how the event count works:\n  //\n  // lift (+1 enterCount)\n  // - dragstart(draggable) [enterCount: 0]\n  // - dragenter(draggable) [enterCount: 1]\n  // leaving draggable (+0 enterCount)\n  // - dragenter(document.body) [enterCount: 2]\n  // - dragleave(draggable) [enterCount: 1]\n  // leaving window (-1 enterCount)\n  // - dragleave(document.body) [enterCount: 0] {leaving the window}\n\n  // Things to note:\n  // - dragenter and dragleave bubble\n  // - the first dragenter when entering a window might not be on `window`\n  //   - it could be on an element that is pressed up against the window\n  //   - (so we cannot rely on `event.target` values)\n\n  bindAll(window, [{\n    type: 'dragstart',\n    listener: function listener() {\n      state.enterCount = 0;\n      // drag start occurs in the source window\n      state.isOverWindow = true;\n      // When a drag first starts it will also trigger a \"dragenter\" on the draggable element\n    }\n  }, {\n    type: 'drop',\n    listener: resetState\n  }, {\n    type: 'dragend',\n    listener: resetState\n  }, {\n    type: 'dragenter',\n    listener: function listener(event) {\n      if (!state.isOverWindow && state.enterCount === 0) {\n        // Patching the `event` object\n        // The `event` object is shared with all event listeners for the event\n        event[symbols.isEnteringWindow] = true;\n      }\n      state.isOverWindow = true;\n      state.enterCount++;\n    }\n  }, {\n    type: 'dragleave',\n    listener: function listener(event) {\n      state.enterCount--;\n      if (state.isOverWindow && state.enterCount === 0) {\n        // Patching the `event` object as it is shared with all event listeners\n        // The `event` object is shared with all event listeners for the event\n        event[symbols.isLeavingWindow] = true;\n        state.isOverWindow = false;\n      }\n    }\n  }],\n  // using `capture: true` so that adding event listeners\n  // in bubble phase will have the correct symbols\n  {\n    capture: true\n  });\n})();", "/**\n * Does the `EventTarget` look like a `Node` based on \"duck typing\".\n *\n * Helpful when the `Node` might be outside of the current document\n * so we cannot to an `target instanceof Node` check.\n */\nfunction isNodeLike(target) {\n  return 'nodeName' in target;\n}\n\n/**\n * Is an `EventTarget` a `Node` from another `window`?\n */\nexport function isFromAnotherWindow(eventTarget) {\n  return isNodeLike(eventTarget) && eventTarget.ownerDocument !== document;\n}", "import { isFirefox } from '../is-firefox';\nimport { isSafari } from '../is-safari';\nimport { isLeavingWindowInSafari } from './count-events-for-safari';\nimport { isFromAnotherWindow } from './is-from-another-window';\nexport function isLeavingWindow(_ref) {\n  var dragLeave = _ref.dragLeave;\n  var type = dragLeave.type,\n    relatedTarget = dragLeave.relatedTarget;\n  if (type !== 'dragleave') {\n    return false;\n  }\n  if (isSafari()) {\n    return isLeavingWindowInSafari({\n      dragLeave: dragLeave\n    });\n  }\n\n  // Standard check: if going to `null` we are leaving the `window`\n  if (relatedTarget == null) {\n    return true;\n  }\n\n  /**\n   * 🦊 Exception: `iframe` in Firefox (`125.0`)\n   *\n   * Case 1: parent `window` → child `iframe`\n   * `dragLeave.relatedTarget` is element _inside_ the child `iframe`\n   * (foreign element)\n   *\n   * Case 2: child `iframe` → parent `window`\n   * `dragLeave.relatedTarget` is the `iframe` in the parent `window`\n   * (foreign element)\n   */\n\n  if (isFirefox()) {\n    return isFromAnotherWindow(relatedTarget);\n  }\n\n  /**\n   * 🌏 Exception: `iframe` in Chrome (`124.0`)\n   *\n   * Case 1: parent `window` → child `iframe`\n   * `dragLeave.relatedTarget` is the `iframe` in the parent `window`\n   *\n   * Case 2: child `iframe` → parent `window`\n   * `dragLeave.relatedTarget` is `null` *(standard check)*\n   */\n\n  // Case 2\n  // Using `instanceof` check as the element will be in the same `window`\n  return relatedTarget instanceof HTMLIFrameElement;\n}", "export function getBindingsForBrokenDrags(_ref) {\n  var onDragEnd = _ref.onDragEnd;\n  return [\n  // ## Detecting drag ending for removed draggables\n  //\n  // If a draggable element is removed during a drag and the user drops:\n  // 1. if over a valid drop target: we get a \"drop\" event to know the drag is finished\n  // 2. if not over a valid drop target (or cancelled): we get nothing\n  // The \"dragend\" event will not fire on the source draggable if it has been\n  // removed from the DOM.\n  // So we need to figure out if a drag operation has finished by looking at other events\n  // We can do this by looking at other events\n\n  // ### First detection: \"pointermove\" events\n\n  // 1. \"pointermove\" events cannot fire during a drag and drop operation\n  // according to the spec. So if we get a \"pointermove\" it means that\n  // the drag and drop operations has finished. So if we get a \"pointermove\"\n  // we know that the drag is over\n  // 2. 🦊😤 Drag and drop operations are _supposed_ to suppress\n  // other pointer events. However, firefox will allow a few\n  // pointer event to get through after a drag starts.\n  // The most I've seen is 3\n  {\n    type: 'pointermove',\n    listener: function () {\n      var callCount = 0;\n      return function listener() {\n        // Using 20 as it is far bigger than the most observed (3)\n        if (callCount < 20) {\n          callCount++;\n          return;\n        }\n        onDragEnd();\n      };\n    }()\n  },\n  // ### Second detection: \"pointerdown\" events\n\n  // If we receive this event then we know that a drag operation has finished\n  // and potentially another one is about to start.\n  // Note: `pointerdown` fires on all browsers / platforms before \"dragstart\"\n  {\n    type: 'pointerdown',\n    listener: onDragEnd\n  }];\n}", "export function getInput(event) {\n  return {\n    altKey: event.altKey,\n    button: event.button,\n    buttons: event.buttons,\n    ctrlKey: event.ctrlKey,\n    metaKey: event.metaKey,\n    shiftKey: event.shiftKey,\n    clientX: event.clientX,\n    clientY: event.clientY,\n    pageX: event.pageX,\n    pageY: event.pageY\n  };\n}", "var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n", "import rafSchd from 'raf-schd';\nvar scheduleOnDrag = rafSchd(function (fn) {\n  return fn();\n});\nvar dragStart = function () {\n  var scheduled = null;\n  function schedule(fn) {\n    var frameId = requestAnimationFrame(function () {\n      scheduled = null;\n      fn();\n    });\n    scheduled = {\n      frameId: frameId,\n      fn: fn\n    };\n  }\n  function flush() {\n    if (scheduled) {\n      cancelAnimationFrame(scheduled.frameId);\n      scheduled.fn();\n      scheduled = null;\n    }\n  }\n  return {\n    schedule: schedule,\n    flush: flush\n  };\n}();\nexport function makeDispatch(_ref) {\n  var source = _ref.source,\n    initial = _ref.initial,\n    dispatchEvent = _ref.dispatchEvent;\n  var previous = {\n    dropTargets: []\n  };\n  function safeDispatch(args) {\n    dispatchEvent(args);\n    previous = {\n      dropTargets: args.payload.location.current.dropTargets\n    };\n  }\n  var dispatch = {\n    start: function start(_ref2) {\n      var nativeSetDragImage = _ref2.nativeSetDragImage;\n      // Ensuring that both `onGenerateDragPreview` and `onDragStart` get the same location.\n      // We do this so that `previous` is`[]` in `onDragStart` (which is logical)\n      var location = {\n        current: initial,\n        previous: previous,\n        initial: initial\n      };\n      // a `onGenerateDragPreview` does _not_ add another entry for `previous`\n      // onDragPreview\n      safeDispatch({\n        eventName: 'onGenerateDragPreview',\n        payload: {\n          source: source,\n          location: location,\n          nativeSetDragImage: nativeSetDragImage\n        }\n      });\n      dragStart.schedule(function () {\n        safeDispatch({\n          eventName: 'onDragStart',\n          payload: {\n            source: source,\n            location: location\n          }\n        });\n      });\n    },\n    dragUpdate: function dragUpdate(_ref3) {\n      var current = _ref3.current;\n      dragStart.flush();\n      scheduleOnDrag.cancel();\n      safeDispatch({\n        eventName: 'onDropTargetChange',\n        payload: {\n          source: source,\n          location: {\n            initial: initial,\n            previous: previous,\n            current: current\n          }\n        }\n      });\n    },\n    drag: function drag(_ref4) {\n      var current = _ref4.current;\n      scheduleOnDrag(function () {\n        dragStart.flush();\n        var location = {\n          initial: initial,\n          previous: previous,\n          current: current\n        };\n        safeDispatch({\n          eventName: 'onDrag',\n          payload: {\n            source: source,\n            location: location\n          }\n        });\n      });\n    },\n    drop: function drop(_ref5) {\n      var current = _ref5.current,\n        updatedSourcePayload = _ref5.updatedSourcePayload;\n      dragStart.flush();\n      scheduleOnDrag.cancel();\n      safeDispatch({\n        eventName: 'onDrop',\n        payload: {\n          source: updatedSourcePayload !== null && updatedSourcePayload !== void 0 ? updatedSourcePayload : source,\n          location: {\n            current: current,\n            previous: previous,\n            initial: initial\n          }\n        }\n      });\n    }\n  };\n  return dispatch;\n}", "// Extending `Map` to allow us to link Key and Values together\n\nvar ledger = new Map();\nfunction registerUsage(_ref) {\n  var typeKey = _ref.typeKey,\n    mount = _ref.mount;\n  var entry = ledger.get(typeKey);\n  if (entry) {\n    entry.usageCount++;\n    return entry;\n  }\n  var initial = {\n    typeKey: typeKey,\n    unmount: mount(),\n    usageCount: 1\n  };\n  ledger.set(typeKey, initial);\n  return initial;\n}\nexport function register(args) {\n  var entry = registerUsage(args);\n  return function unregister() {\n    entry.usageCount--;\n    if (entry.usageCount > 0) {\n      return;\n    }\n    // Only a single usage left, remove it\n    entry.unmount();\n    ledger.delete(args.typeKey);\n  };\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { combine } from '../public-utils/combine';\nimport { once } from '../public-utils/once';\nimport { addAttribute } from '../util/add-attribute';\nfunction copyReverse(array) {\n  return array.slice(0).reverse();\n}\nexport function makeDropTarget(_ref) {\n  var typeKey = _ref.typeKey,\n    defaultDropEffect = _ref.defaultDropEffect;\n  var registry = new WeakMap();\n  var dropTargetDataAtt = \"data-drop-target-for-\".concat(typeKey);\n  var dropTargetSelector = \"[\".concat(dropTargetDataAtt, \"]\");\n  function addToRegistry(args) {\n    registry.set(args.element, args);\n    return function () {\n      return registry.delete(args.element);\n    };\n  }\n  function dropTargetForConsumers(args) {\n    // Guardrail: warn if the draggable element is already registered\n    if (process.env.NODE_ENV !== 'production') {\n      var existing = registry.get(args.element);\n      if (existing) {\n        // eslint-disable-next-line no-console\n        console.warn(\"You have already registered a [\".concat(typeKey, \"] dropTarget on the same element\"), {\n          existing: existing,\n          proposed: args\n        });\n      }\n      if (args.element instanceof HTMLIFrameElement) {\n        // eslint-disable-next-line no-console\n        console.warn(\"\\n            We recommend not registering <iframe> elements as drop targets\\n            as it can result in some strange browser event ordering.\\n          \" // Removing newlines and excessive whitespace\n        .replace(/\\s{2,}/g, ' ').trim());\n      }\n    }\n    var cleanup = combine(addAttribute(args.element, {\n      attribute: dropTargetDataAtt,\n      value: 'true'\n    }), addToRegistry(args));\n\n    // Wrapping in `once` to prevent unexpected side effects if consumers call\n    // the clean up function multiple times.\n    return once(cleanup);\n  }\n  function getActualDropTargets(_ref2) {\n    var _args$getData, _args$getData2, _args$getDropEffect, _args$getDropEffect2;\n    var source = _ref2.source,\n      target = _ref2.target,\n      input = _ref2.input,\n      _ref2$result = _ref2.result,\n      result = _ref2$result === void 0 ? [] : _ref2$result;\n    if (target == null) {\n      return result;\n    }\n    if (!(target instanceof Element)) {\n      // For \"text-selection\" drags, the original `target`\n      // is not an `Element`, so we need to start looking from\n      // the parent element\n      if (target instanceof Node) {\n        return getActualDropTargets({\n          source: source,\n          target: target.parentElement,\n          input: input,\n          result: result\n        });\n      }\n\n      // not sure what we are working with,\n      // so we can exit.\n      return result;\n    }\n    var closest = target.closest(dropTargetSelector);\n\n    // Cannot find anything else\n    if (closest == null) {\n      return result;\n    }\n    var args = registry.get(closest);\n\n    // error: something had a dropTargetSelector but we could not\n    // find a match. For now, failing silently\n    if (args == null) {\n      return result;\n    }\n    var feedback = {\n      input: input,\n      source: source,\n      element: args.element\n    };\n\n    // if dropping is not allowed, skip this drop target\n    // and continue looking up the DOM tree\n    if (args.canDrop && !args.canDrop(feedback)) {\n      return getActualDropTargets({\n        source: source,\n        target: args.element.parentElement,\n        input: input,\n        result: result\n      });\n    }\n\n    // calculate our new record\n    var data = (_args$getData = (_args$getData2 = args.getData) === null || _args$getData2 === void 0 ? void 0 : _args$getData2.call(args, feedback)) !== null && _args$getData !== void 0 ? _args$getData : {};\n    var dropEffect = (_args$getDropEffect = (_args$getDropEffect2 = args.getDropEffect) === null || _args$getDropEffect2 === void 0 ? void 0 : _args$getDropEffect2.call(args, feedback)) !== null && _args$getDropEffect !== void 0 ? _args$getDropEffect : defaultDropEffect;\n    var record = {\n      data: data,\n      element: args.element,\n      dropEffect: dropEffect,\n      // we are collecting _actual_ drop targets, so these are\n      // being applied _not_ due to stickiness\n      isActiveDueToStickiness: false\n    };\n    return getActualDropTargets({\n      source: source,\n      target: args.element.parentElement,\n      input: input,\n      // Using bubble ordering. Same ordering as `event.getPath()`\n      result: [].concat(_toConsumableArray(result), [record])\n    });\n  }\n  function notifyCurrent(_ref3) {\n    var eventName = _ref3.eventName,\n      payload = _ref3.payload;\n    var _iterator = _createForOfIteratorHelper(payload.location.current.dropTargets),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _entry$eventName;\n        var record = _step.value;\n        var entry = registry.get(record.element);\n        var args = _objectSpread(_objectSpread({}, payload), {}, {\n          self: record\n        });\n        entry === null || entry === void 0 || (_entry$eventName = entry[eventName]) === null || _entry$eventName === void 0 || _entry$eventName.call(entry,\n        // I cannot seem to get the types right here.\n        // TS doesn't seem to like that one event can need `nativeSetDragImage`\n        // @ts-expect-error\n        args);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  var actions = {\n    onGenerateDragPreview: notifyCurrent,\n    onDrag: notifyCurrent,\n    onDragStart: notifyCurrent,\n    onDrop: notifyCurrent,\n    onDropTargetChange: function onDropTargetChange(_ref4) {\n      var payload = _ref4.payload;\n      var isCurrent = new Set(payload.location.current.dropTargets.map(function (record) {\n        return record.element;\n      }));\n      var visited = new Set();\n      var _iterator2 = _createForOfIteratorHelper(payload.location.previous.dropTargets),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _entry$onDropTargetCh;\n          var record = _step2.value;\n          visited.add(record.element);\n          var entry = registry.get(record.element);\n          var isOver = isCurrent.has(record.element);\n          var args = _objectSpread(_objectSpread({}, payload), {}, {\n            self: record\n          });\n          entry === null || entry === void 0 || (_entry$onDropTargetCh = entry.onDropTargetChange) === null || _entry$onDropTargetCh === void 0 || _entry$onDropTargetCh.call(entry, args);\n\n          // if we cannot find the drop target in the current array, then it has been left\n          if (!isOver) {\n            var _entry$onDragLeave;\n            entry === null || entry === void 0 || (_entry$onDragLeave = entry.onDragLeave) === null || _entry$onDragLeave === void 0 || _entry$onDragLeave.call(entry, args);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var _iterator3 = _createForOfIteratorHelper(payload.location.current.dropTargets),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _entry$onDropTargetCh2, _entry$onDragEnter;\n          var _record = _step3.value;\n          // already published an update to this drop target\n          if (visited.has(_record.element)) {\n            continue;\n          }\n          // at this point we have a new drop target that is being entered into\n          var _args = _objectSpread(_objectSpread({}, payload), {}, {\n            self: _record\n          });\n          var _entry = registry.get(_record.element);\n          _entry === null || _entry === void 0 || (_entry$onDropTargetCh2 = _entry.onDropTargetChange) === null || _entry$onDropTargetCh2 === void 0 || _entry$onDropTargetCh2.call(_entry, _args);\n          _entry === null || _entry === void 0 || (_entry$onDragEnter = _entry.onDragEnter) === null || _entry$onDragEnter === void 0 || _entry$onDragEnter.call(_entry, _args);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  };\n  function dispatchEvent(args) {\n    actions[args.eventName](args);\n  }\n  function getIsOver(_ref5) {\n    var source = _ref5.source,\n      target = _ref5.target,\n      input = _ref5.input,\n      current = _ref5.current;\n    var actual = getActualDropTargets({\n      source: source,\n      target: target,\n      input: input\n    });\n\n    // stickiness is only relevant when we have less\n    // drop targets than we did before\n    if (actual.length >= current.length) {\n      return actual;\n    }\n\n    // less 'actual' drop targets than before,\n    // we need to see if 'stickiness' applies\n\n    // An old drop target will continue to be dropped on if:\n    // 1. it has the same parent\n    // 2. nothing exists in it's previous index\n\n    var lastCaptureOrdered = copyReverse(current);\n    var actualCaptureOrdered = copyReverse(actual);\n    var resultCaptureOrdered = [];\n    for (var index = 0; index < lastCaptureOrdered.length; index++) {\n      var _argsForLast$getIsSti;\n      var last = lastCaptureOrdered[index];\n      var fresh = actualCaptureOrdered[index];\n\n      // if a record is in the new index -> use that\n      // it will have the latest data + dropEffect\n      if (fresh != null) {\n        resultCaptureOrdered.push(fresh);\n        continue;\n      }\n\n      // At this point we have no drop target in the old spot\n      // Check to see if we can use a previous sticky drop target\n\n      // The \"parent\" is the one inside of `resultCaptureOrdered`\n      // (the parent might be a drop target that was sticky)\n      var parent = resultCaptureOrdered[index - 1];\n      var lastParent = lastCaptureOrdered[index - 1];\n\n      // Stickiness is based on parent relationships, so if the parent relationship has change\n      // then we can stop our search\n      if ((parent === null || parent === void 0 ? void 0 : parent.element) !== (lastParent === null || lastParent === void 0 ? void 0 : lastParent.element)) {\n        break;\n      }\n\n      // We need to check whether the old drop target can still be dropped on\n\n      var argsForLast = registry.get(last.element);\n\n      // We cannot drop on a drop target that is no longer mounted\n      if (!argsForLast) {\n        break;\n      }\n      var feedback = {\n        input: input,\n        source: source,\n        element: argsForLast.element\n      };\n\n      // We cannot drop on a drop target that no longer allows being dropped on\n      if (argsForLast.canDrop && !argsForLast.canDrop(feedback)) {\n        break;\n      }\n\n      // We cannot drop on a drop target that is no longer sticky\n      if (!((_argsForLast$getIsSti = argsForLast.getIsSticky) !== null && _argsForLast$getIsSti !== void 0 && _argsForLast$getIsSti.call(argsForLast, feedback))) {\n        break;\n      }\n\n      // Note: intentionally not recollecting `getData()` or `getDropEffect()`\n      // Previous values for `data` and `dropEffect` will be borrowed\n      // This is to prevent things like the 'closest edge' changing when\n      // no longer over a drop target.\n      // We could change our mind on this behaviour in the future\n\n      resultCaptureOrdered.push(_objectSpread(_objectSpread({}, last), {}, {\n        // making it clear to consumers this drop target is active due to stickiness\n        isActiveDueToStickiness: true\n      }));\n    }\n\n    // return bubble ordered result\n    return copyReverse(resultCaptureOrdered);\n  }\n  return {\n    dropTargetForConsumers: dropTargetForConsumers,\n    getIsOver: getIsOver,\n    dispatchEvent: dispatchEvent\n  };\n}", "export function addAttribute(element, _ref) {\n  var attribute = _ref.attribute,\n    value = _ref.value;\n  element.setAttribute(attribute, value);\n  return function () {\n    return element.removeAttribute(attribute);\n  };\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { once } from '../public-utils/once';\nexport function makeMonitor() {\n  var registry = new Set();\n  var dragging = null;\n  function tryAddToActive(monitor) {\n    if (!dragging) {\n      return;\n    }\n    // Monitor is allowed to monitor events if:\n    // 1. It has no `canMonitor` function (default is that a monitor can listen to everything)\n    // 2. `canMonitor` returns true\n    if (!monitor.canMonitor || monitor.canMonitor(dragging.canMonitorArgs)) {\n      dragging.active.add(monitor);\n    }\n  }\n  function monitorForConsumers(args) {\n    // We are giving each `args` a new reference so that you\n    // can create multiple monitors with the same `args`.\n    var entry = _objectSpread({}, args);\n    registry.add(entry);\n\n    // if there is an active drag we need to see if this new monitor is relevant\n    tryAddToActive(entry);\n    function cleanup() {\n      registry.delete(entry);\n\n      // We need to stop publishing events during a drag to this monitor!\n      if (dragging) {\n        dragging.active.delete(entry);\n      }\n    }\n\n    // Wrapping in `once` to prevent unexpected side effects if consumers call\n    // the clean up function multiple times.\n    return once(cleanup);\n  }\n  function dispatchEvent(_ref) {\n    var eventName = _ref.eventName,\n      payload = _ref.payload;\n    if (eventName === 'onGenerateDragPreview') {\n      dragging = {\n        canMonitorArgs: {\n          initial: payload.location.initial,\n          source: payload.source\n        },\n        active: new Set()\n      };\n      var _iterator = _createForOfIteratorHelper(registry),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var monitor = _step.value;\n          tryAddToActive(monitor);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    // This should never happen.\n    if (!dragging) {\n      return;\n    }\n\n    // Creating an array from the set _before_ iterating\n    // This is so that monitors added during the current event will not be called.\n    // This behaviour matches native EventTargets where an event listener\n    // cannot add another event listener during an active event to the same\n    // event target in the same event (for us we have a single global event target)\n    var active = Array.from(dragging.active);\n    for (var _i = 0, _active = active; _i < _active.length; _i++) {\n      var _monitor = _active[_i];\n      // A monitor can be removed by another monitor during an event.\n      // We need to check that the monitor is still registered before calling it\n      if (dragging.active.has(_monitor)) {\n        var _monitor$eventName;\n        // @ts-expect-error: I cannot get this type working!\n        (_monitor$eventName = _monitor[eventName]) === null || _monitor$eventName === void 0 || _monitor$eventName.call(_monitor, payload);\n      }\n    }\n    if (eventName === 'onDrop') {\n      dragging.active.clear();\n      dragging = null;\n    }\n  }\n  return {\n    dispatchEvent: dispatchEvent,\n    monitorForConsumers: monitorForConsumers\n  };\n}", "import { lifecycle } from '../ledger/lifecycle-manager';\nimport { register } from '../ledger/usage-ledger';\nimport { makeDropTarget } from './make-drop-target';\nimport { makeMonitor } from './make-monitor';\nexport function makeAdapter(_ref) {\n  var typeKey = _ref.typeKey,\n    mount = _ref.mount,\n    dispatchEventToSource = _ref.dispatchEventToSource,\n    onPostDispatch = _ref.onPostDispatch,\n    defaultDropEffect = _ref.defaultDropEffect;\n  var monitorAPI = makeMonitor();\n  var dropTargetAPI = makeDropTarget({\n    typeKey: typeKey,\n    defaultDropEffect: defaultDropEffect\n  });\n  function dispatchEvent(args) {\n    // 1. forward the event to source\n    dispatchEventToSource === null || dispatchEventToSource === void 0 || dispatchEventToSource(args);\n\n    // 2. forward the event to relevant dropTargets\n    dropTargetAPI.dispatchEvent(args);\n\n    // 3. forward event to monitors\n    monitorAPI.dispatchEvent(args);\n\n    // 4. post consumer dispatch (used for honey pot fix)\n    onPostDispatch === null || onPostDispatch === void 0 || onPostDispatch(args);\n  }\n  function start(_ref2) {\n    var event = _ref2.event,\n      dragType = _ref2.dragType;\n    lifecycle.start({\n      event: event,\n      dragType: dragType,\n      getDropTargetsOver: dropTargetAPI.getIsOver,\n      dispatchEvent: dispatchEvent\n    });\n  }\n  function registerUsage() {\n    function mountAdapter() {\n      var api = {\n        canStart: lifecycle.canStart,\n        start: start\n      };\n      return mount(api);\n    }\n    return register({\n      typeKey: typeKey,\n      mount: mountAdapter\n    });\n  }\n  return {\n    registerUsage: registerUsage,\n    dropTarget: dropTargetAPI.dropTargetForConsumers,\n    monitor: monitorAPI.monitorForConsumers\n  };\n}", "import { once } from '../public-utils/once';\n\n// Using `once` as the value won't change in a browser\n\nexport var isAndroid = once(function isAndroid() {\n  return navigator.userAgent.toLocaleLowerCase().includes('android');\n});\nexport var androidFallbackText = 'pdnd:android-fallback';", "// Why we put the media types in their own files:\n//\n// - we are not putting them all in one file as not all adapters need all types\n// - we are not putting them in the external helpers as some things just need the\n//   types and not the external functions code\nexport var textMediaType = 'text/plain';", "// Why we put the media types in their own files:\n//\n// - we are not putting them all in one file as not all adapters need all types\n// - we are not putting them in the external helpers as some things just need the\n//   types and not the external functions code\nexport var URLMediaType = 'text/uri-list';", "/**\n * This key has been pulled into a separate module\n * so that the external adapter does not need to import\n * the element adapter\n */\nexport var elementAdapterNativeDataKey = 'application/vnd.pdnd';"],
  "mappings": "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",
  "names": ["import_bind_event_listener", "r", "import_bind_event_listener", "isFirefox", "isSafari", "import_bind_event_listener", "rafSchd", "wrapperFn", "start", "event", "mount", "ownKeys", "r", "_objectSpread", "F", "e", "addToRegistry", "record", "_createForOfIteratorHelper", "_unsupportedIterableToArray", "F", "e", "r", "_arrayLikeToArray", "ownKeys", "_objectSpread", "mount", "dispatchEventToSource", "start", "registerUsage", "isAndroid"]
}
